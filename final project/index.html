<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BelleAura</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
:root{
  --lavender:#e6d7f7;
  --gold:#d4af37;
  --white:#ffffff;
  --deep:#241133;
  --muted:#8a77a6;
  --glass: rgba(255,255,255,0.68);
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}

body{
  font-family:'Poppins',sans-serif;
  background:
    radial-gradient(circle at 20% 10%, rgba(212,175,55,0.12), transparent 40%),
    radial-gradient(circle at 80% 30%, rgba(230,215,247,0.35), transparent 50%),
    linear-gradient(180deg,#fbf7ff 0%, #fff 55%, #fbf7ff 100%);
  color:var(--deep);
}

/* Login full-screen */
.login-screen{
  position:fixed;inset:0;
  background:
    radial-gradient(circle at 30% 20%, rgba(212,175,55,0.15), transparent 50%),
    linear-gradient(135deg,rgba(47,26,71,0.07),rgba(212,175,55,0.04));
  display:flex;align-items:center;justify-content:center;
  padding:30px;z-index:3000;
}
.card{
  background:var(--glass);
  backdrop-filter: blur(18px);
  width:100%;max-width:980px;
  border-radius:22px;
  box-shadow:0 30px 70px rgba(36,17,51,0.18);
  overflow:hidden;display:grid;grid-template-columns:1fr 1fr;
  border:1px solid rgba(255,255,255,0.45);
}
.side-hero{
  background:
    radial-gradient(circle at 40% 20%, rgba(212,175,55,0.25), transparent 55%),
    linear-gradient(135deg,var(--lavender),#fff);
  padding:44px;display:flex;flex-direction:column;
  align-items:center;justify-content:center;
}
.side-hero h1{
  font-family:'Playfair Display',serif;
  font-size:2.55rem;color:var(--deep);margin-bottom:10px;
}
.side-hero p{color:var(--muted);margin-bottom:18px}
.brand-bloom{font-size:3.7rem;margin:12px 0}
.login-form{padding:44px}
.login-form h2{font-family:'Playfair Display',serif;font-size:1.7rem;margin-bottom:10px}
.input{
  width:100%;padding:12px 14px;border-radius:12px;
  border:1px solid rgba(212,175,55,0.20);
  margin:10px 0;background:rgba(255,255,255,0.82);
  outline:none;
}
.input:focus{
  border-color: rgba(212,175,55,0.65);
  box-shadow:0 0 0 4px rgba(212,175,55,0.12);
}
.login-btn{
  width:100%;padding:12px;border-radius:12px;border:none;
  background:linear-gradient(90deg,var(--gold),#f0e7ff);
  color:#2a163b;font-weight:800;cursor:pointer;margin-top:12px;
  transition: transform .2s ease, box-shadow .2s ease;
}
.login-btn:hover{
  transform: translateY(-2px);
  box-shadow:0 14px 28px rgba(212,175,55,0.25);
}
.small{font-size:.9rem;color:var(--muted);margin-top:8px}

.fancy-footer{
  position:fixed;left:20px;bottom:20px;
  background:rgba(255,255,255,0.9);
  padding:10px 14px;border-radius:12px;
  border:1px solid rgba(95,70,130,0.06);
  box-shadow:0 8px 20px rgba(47,26,71,0.06)
}

/* Main site */
.site{display:none}

/* Luxury header */
header{
  background:
    radial-gradient(circle at 20% 20%, rgba(212,175,55,0.28), transparent 45%),
    linear-gradient(120deg,var(--lavender),var(--white));
  text-align:center;
  padding:46px 20px;
  font-family:'Playfair Display',serif;
  font-size:2.7em;
  letter-spacing:2px;
  color:var(--deep);
  border-bottom:3px solid var(--gold);
}

/* Luxury nav with search */
nav{
  position:sticky;top:0;z-index:100;
  background:rgba(250,248,255,0.82);
  backdrop-filter: blur(12px);
  display:flex;justify-content:space-between;align-items:center;
  padding:12px 18px;
  box-shadow:0 2px 15px rgba(0,0,0,0.05);
  gap:12px;
}
.nav-links{
  display:flex;justify-content:center;align-items:center;
  gap:14px;flex-wrap:wrap;
}
nav a{
  color:var(--deep);text-decoration:none;
  font-weight:600;
  transition:color .25s, transform .25s;
}
nav a:hover{color:var(--gold); transform: translateY(-1px);}

/* Search bar */
.search-wrap{
  display:flex;align-items:center;gap:10px;
  min-width:260px;
}
.search-wrap input{
  width:100%;
  padding:10px 14px;
  border-radius:999px;
  border:1px solid rgba(212,175,55,0.28);
  background:rgba(255,255,255,0.86);
  outline:none;
  font-weight:500;
}
.search-wrap input:focus{
  border-color: rgba(212,175,55,0.7);
  box-shadow:0 0 0 4px rgba(212,175,55,0.14);
}

.section{padding:54px 7%;text-align:center}
h2{
  font-family:'Playfair Display',serif;
  font-size:2.15em;color:var(--deep);
  position:relative;margin-bottom:22px
}
h2::after{
  content:"";display:block;width:90px;height:3px;
  background:linear-gradient(90deg,var(--gold),var(--lavender));
  margin:10px auto 0;border-radius:2px
}

/* Products */
.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(230px,1fr));
  gap:24px;margin-top:18px
}
.product{
  background:rgba(255,255,255,0.78);
  border:1px solid rgba(212,175,55,0.14);
  backdrop-filter: blur(14px);
  border-radius:18px;
  box-shadow:0 16px 36px rgba(36,17,51,0.08);
  padding:12px;
  transition:transform .25s ease, box-shadow .25s ease;
  display:flex;flex-direction:column;
}
.product:hover{
  transform:translateY(-10px);
  box-shadow:0 24px 60px rgba(212,175,55,0.22);
}
.product img{
  width:100%;height:220px;border-radius:14px;
  object-fit:cover;
}
.product h4{
  font-family:'Playfair Display',serif;
  font-size:1.08em;margin:12px 0 6px
}
.product p{color:#5c4a82;margin-bottom:8px}
.product .price{font-weight:800;margin-top:auto}
.product button{
  margin-top:10px;
  background:linear-gradient(90deg,var(--gold),#f0e7ff);
  border:none;color:#2a163b;
  padding:9px 14px;border-radius:999px;
  font-weight:900;cursor:pointer;
  letter-spacing:0.3px;
}

/* Cart */
#cart{
  background:rgba(250,248,255,0.85);
  border-top:2px solid var(--gold);
  padding:40px 10%;text-align:center
}
#cart-items{margin:20px 0}
#checkout-btn{
  background:linear-gradient(90deg,var(--lavender),var(--gold));
  border:none;color:white;padding:12px 25px;
  border-radius:30px;font-weight:bold;
  cursor:pointer;font-size:1em
}

/* PAYMENT POPUP */
#payment-popup{
  display:none;position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.45);justify-content:center;align-items:center;z-index:2000
}
.popup-content{
  background:rgba(255,255,255,0.92);
  backdrop-filter: blur(16px);
  padding:34px;border-radius:18px;text-align:center;
  box-shadow:0 0 40px rgba(212,175,55,0.35);
  animation:fadeIn .35s ease;
  max-width:440px;width:95%;
  border:1px solid rgba(212,175,55,0.22);
}

.pay-tabs{display:flex;gap:10px;justify-content:center;margin:16px 0}
.pay-tabs button{
  border:none;cursor:pointer;padding:10px 14px;border-radius:999px;
  background:#f3edff;color:var(--deep);font-weight:900;
}
.pay-tabs button.active{background:linear-gradient(90deg,var(--gold),var(--lavender));color:white}

.pay-form{margin-top:12px;text-align:left}
.pay-form label{display:block;font-size:.9rem;color:var(--muted);margin:10px 0 6px}
.pay-form input{
  width:100%;padding:12px;border-radius:12px;border:1px solid rgba(212,175,55,0.25);
  background:rgba(255,255,255,0.88);
}
.row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.pay-btn{
  width:100%;margin-top:16px;border:none;cursor:pointer;
  padding:12px;border-radius:12px;color:#2a163b;font-weight:1000;
  background:linear-gradient(90deg,var(--gold),#f0e7ff);
}
.pay-note{font-size:.85rem;color:var(--muted);text-align:center;margin-top:10px}
.success{
  display:none;margin-top:14px;padding:12px;border-radius:12px;
  background:rgba(230,215,247,0.5);
  border:1px solid rgba(47,26,71,0.08);
  color:var(--deep);font-weight:800;text-align:center;
}

/* Floating buttons */
#floating-cart{
  position:fixed;bottom:25px;right:25px;
  background:linear-gradient(120deg,var(--gold),var(--lavender));
  color:white;border-radius:50%;
  width:60px;height:60px;display:flex;
  justify-content:center;align-items:center;
  font-size:1.5em;cursor:pointer;
  box-shadow:0 4px 15px rgba(0,0,0,0.25);z-index:1500
}

footer{
  background:linear-gradient(120deg,var(--lavender),var(--gold));
  color:white;text-align:center;padding:14px 0;font-size:.9em;margin-top:30px
}

.no-results{
  margin-top:14px;
  color:var(--muted);
  font-weight:600;
  font-size:1.05rem;
}

@keyframes fadeIn{from{opacity:0;transform:scale(.95);}to{opacity:1;transform:scale(1);}}

/* ---------- AI CHAT BUTTON + BOX ---------- */
#aiChatBtn{
  position:fixed;
  bottom:95px;
  right:25px;
  width:58px;height:58px;
  border-radius:50%;
  display:flex;
  justify-content:center;
  align-items:center;
  cursor:pointer;
  font-size:1.5rem;
  background:linear-gradient(120deg,var(--gold),var(--lavender));
  color:white;
  box-shadow:0 10px 25px rgba(0,0,0,0.25);
  z-index:1600;
  transition:transform .2s ease;
}
#aiChatBtn:hover{transform:translateY(-4px);}

#aiChatBox{
  position:fixed;
  bottom:165px;
  right:25px;
  width:330px;
  max-width:90vw;
  height:420px;
  background:rgba(255,255,255,0.92);
  backdrop-filter:blur(12px);
  border-radius:18px;
  box-shadow:0 18px 50px rgba(36,17,51,0.18);
  border:1px solid rgba(212,175,55,0.25);
  display:none;
  flex-direction:column;
  overflow:hidden;
  z-index:1600;
}

.aiHeader{
  padding:14px 14px;
  background:linear-gradient(120deg,rgba(230,215,247,0.8),rgba(212,175,55,0.25));
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.aiHeader button{
  border:none;
  background:rgba(255,255,255,0.7);
  cursor:pointer;
  padding:6px 10px;
  border-radius:10px;
  font-weight:800;
}

.aiMessages{
  flex:1;
  padding:14px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:10px;
}

.aiMsg{
  padding:10px 12px;
  border-radius:14px;
  font-size:.95rem;
  line-height:1.35rem;
  max-width:88%;
  box-shadow:0 8px 18px rgba(0,0,0,0.06);
}
.aiMsg.bot{
  background:rgba(230,215,247,0.55);
  border:1px solid rgba(47,26,71,0.08);
  align-self:flex-start;
}
.aiMsg.user{
  background:rgba(255,255,255,0.9);
  border:1px solid rgba(212,175,55,0.25);
  align-self:flex-end;
}

.aiInput{
  display:flex;
  gap:10px;
  padding:12px;
  border-top:1px solid rgba(212,175,55,0.18);
  background:rgba(255,255,255,0.85);
}
.aiInput input{
  flex:1;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid rgba(212,175,55,0.25);
  outline:none;
}
.aiInput button{
  border:none;
  cursor:pointer;
  padding:10px 12px;
  border-radius:12px;
  font-weight:900;
  background:linear-gradient(90deg,var(--gold),#f0e7ff);
  color:#2a163b;
}

@media (max-width:900px){
  nav{flex-direction:column;align-items:stretch}
  .search-wrap{width:100%;min-width:unset}
}
@media (max-width:800px){
  .card{grid-template-columns:1fr}
  .side-hero{display:none}
  .login-screen{padding:12px}
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginScreen" class="login-screen">
  <div class="card" role="dialog" aria-labelledby="loginTitle">
    <div class="side-hero">
      <div class="brand-bloom">üå∏</div>
      <h1 id="loginTitle">Welcome to BelleAura</h1>
      <p>Discover modern glamour ‚Äî polished, playful, and elegant.</p>
      <p style="font-size:.95rem;color:var(--muted)">Enter any username & password to sign in.</p>
    </div>

    <div class="login-form">
      <h2>Sign in</h2>
      <label class="small">Username</label>
      <input id="loginUser" class="input" type="text" placeholder="Enter a username">

      <label class="small">Password</label>
      <input id="loginPass" class="input" type="password" placeholder="Enter a password">

      <button class="login-btn" onclick="doLogin()">Sign In</button>
    </div>
  </div>
</div>

<div class="fancy-footer">¬© 2025 BelleAura</div>

<!-- MAIN SITE -->
<div id="site" class="site">
  <header>üå∏ BelleAura üå∏</header>

  <nav>
    <div class="nav-links">
      <a href="#clothes">Clothes</a>
      <a href="#perfumes">Perfumes</a>
      <a href="#makeup">Makeup</a>
      <a href="#accessories">Accessories</a>
      <a href="#footwear">Footwear</a>
    </div>

    <div class="search-wrap">
      <input id="searchInput" type="text" placeholder="Search luxury items..." oninput="filterProducts()">
    </div>
  </nav>

  <section id="clothes" class="section"><h2>Clothes</h2><div class="products" id="clothes-list"></div></section>
  <section id="perfumes" class="section"><h2>Perfumes</h2><div class="products" id="perfumes-list"></div></section>
  <section id="makeup" class="section"><h2>Makeup</h2><div class="products" id="makeup-list"></div></section>
  <section id="accessories" class="section"><h2>Accessories</h2><div class="products" id="accessories-list"></div></section>
  <section id="footwear" class="section"><h2>Footwear</h2><div class="products" id="footwear-list"></div></section>

  <section id="cart">
    <h2>Your Cart</h2>
    <div id="cart-items">No items yet.</div>
    <h3>Total: $<span id="total">0.00</span></h3>
    <button id="checkout-btn" onclick="showPayment()">Proceed to Checkout</button>
  </section>

  <!-- PAYMENT POPUP -->
  <div id="payment-popup">
    <div class="popup-content">
      <h2>üí≥ Payment</h2>
      <p style="color:var(--muted);margin-top:6px;">Secure checkout</p>

      <div class="pay-tabs">
        <button id="tabCard" class="active" onclick="switchPay('card')">Card</button>
        <button id="tabUpi" onclick="switchPay('upi')">UPI</button>
      </div>

      <!-- Card -->
      <div id="cardPay" class="pay-form">
        <label>Billing Email</label>
        <input id="billEmail" type="email" placeholder="you@example.com">

        <label>Name on Card</label>
        <input id="cardName" type="text" placeholder="Full name">

        <label>Card Number</label>
        <input id="cardNumber" type="text" placeholder="1234 5678 9012 3456" maxlength="19">

        <div class="row">
          <div>
            <label>Expiry</label>
            <input id="cardExpiry" type="text" placeholder="MM/YY" maxlength="5">
          </div>
          <div>
            <label>CVV</label>
            <input id="cardCvv" type="password" placeholder="123" maxlength="4">
          </div>
        </div>

        <button class="pay-btn" onclick="payNow('card')">Pay Now</button>
      </div>

      <!-- UPI -->
      <div id="upiPay" class="pay-form" style="display:none;">
        <label>Billing Email</label>
        <input id="billEmail2" type="email" placeholder="you@example.com">

        <label>UPI ID</label>
        <input id="upiId" type="text" placeholder="yourname@bank">

        <button class="pay-btn" onclick="payNow('upi')">Pay Now</button>
      </div>

      <div id="paySuccess" class="success">‚úÖ Payment Successful! Thank you for shopping with BelleAura.</div>

      <p class="pay-note">By paying, you agree to our store policies and terms.</p>

      <button onclick="closePayment()" style="margin-top:10px;border:none;background:#f3edff;padding:10px 16px;border-radius:12px;cursor:pointer;font-weight:800;">Close</button>
    </div>
  </div>

  <!-- AI STYLIST CHAT -->
  <div id="aiChatBtn" title="AI Stylist">üí¨</div>

  <div id="aiChatBox">
    <div class="aiHeader">
      <div>
        <strong>‚ú® BelleAura AI Stylist</strong><br>
        <span style="font-size:.85rem;color:#6e5b89;">Ask what matches with what</span>
      </div>
      <button onclick="toggleChat()">‚úï</button>
    </div>

    <div id="aiMessages" class="aiMessages">
      <div class="aiMsg bot">
        Hi üíú I‚Äôm your BelleAura stylist!<br>
        Ask me like: <br><br>
        ‚úÖ ‚ÄúWhat goes with Jillian Lavender Dress?‚Äù<br>
        ‚úÖ ‚ÄúSuggest outfit for party‚Äù<br>
        ‚úÖ ‚ÄúBest accessories with satin skirt‚Äù
      </div>
    </div>

    <div class="aiInput">
      <input id="aiUserInput" type="text" placeholder="Type your fashion question...">
      <button onclick="sendAI()">Send</button>
    </div>
  </div>

  <div id="floating-cart" onclick="document.getElementById('cart').scrollIntoView({behavior:'smooth'})">üõí</div>

  <footer>¬© 2025 BelleAura | Designed with üíú Modern Glamour</footer>
</div>

<script>
/* ---------------- LOGIN ---------------- */
function doLogin(){
  const u = loginUser.value.trim();
  const p = loginPass.value.trim();
  if(!u || !p){
    alert("Enter both username and password.");
    return;
  }
  loginScreen.style.display = "none";
  site.style.display = "block";
}

/* ---------------- PRODUCTS ---------------- */
const products = {
  clothes: [
    { name: "Jillian Lavender Dress", price: 79.99, image: "C:/Users/dilan/Desktop/final project/clothes1.jpg.webp" },
    { name: "Casual Graphic Tee", price: 49.99, image: "C:/Users/dilan/Desktop/final project/casyal t.jpeg" },
    { name: "Pearl Blouse", price: 59.99, image: "C:/Users/dilan/Desktop/final project/blouse.webp" },
    { name: "Satin Skirt", price: 69.99, image: "C:/Users/dilan/Desktop/final project/WomenSkirtMidiLongLengthSilkSatinHighWaistElasticSkirts-Grey_2.webp" },
    { name: "Velvet Evening Dress", price: 89.99, image: "C:/Users/dilan/Desktop/final project/61tPsB8cm3L._AC_UY1100_.jpg" },
    { name: "Summer Floral Maxi", price: 45.99, image: "C:/Users/dilan/Desktop/final project/img_1367.webp" },
    { name: "Classic Blazer", price: 99.99, image: "C:Users/dilan/Desktop/final project/classiz blazer.jpg" },
    { name: "Evening Saree", price: 129.99, image: "C:/Users/dilan/Desktop/final project/daree.webp" },
    { name: "Casual Tee", price: 25.99, image: "C:/Users/dilan/Desktop/final project/casual tee.webp" },
    { name: "Luxe Jacket", price: 149.99, image: "C:/Users/dilan/Desktop/final project/jacket.jpg" }
  ],

  perfumes: [
    { name: "Refill Bottle", price: 59.99, image: "C:/Users/dilan/Desktop/final project/refil bottle.jpg" },
    { name: "Midnight Rose", price: 79.99, image: "C:/Users/dilan/Desktop/final project/How To Refill A Perfume Bottle Know Here!.jpg" },
    { name: "Pure Grace", price: 64.99, image: "C:/Users/dilan/Desktop/final project/grace.jpeg" },
    { name: "Velvet Bloom", price: 72.99, image: "C:/Users/dilan/Desktop/final project/soft wisper.jpg" },
    { name: "Crystal Essence", price: 89.99, image: "C:Users/dilan/Desktop/final project/crystal ess.jpg" },
    { name: "Eternal Bliss", price: 95.00, image: "C:/Users/dilan/Desktop/final project/bliss.jpeg" },
    { name: "Royal Petals", price: 85.50, image: "C:/Users/dilan/Desktop/final project/x68vx47up61c1.jpeg" },
    { name: "Soft Whisper", price: 54.99, image: "C:/Users/dilan/Desktop/final project/Rose-Petals-Reham.webp" },
    { name: "Dreamy Charm", price: 62.50, image: "C:/Users/dilan/Desktop/final project/velvet.webp" },
    { name: "Satin Mist", price: 69.99, image: "C:/Users/dilan/Desktop/final project/satan.webp" }
  ],

  makeup: [
    { name: "Guerlain Rouge Lipstick", price: 25.00, image: "C:/Users/dilan/Desktop/final project/Guerlain-Rogue-G-Lipstick.jpg" },
    { name: "Silk Foundation", price: 45.99, image: "C:/Users/dilan/Desktop/final project/silk founsation.webp" },
    { name: "Rose Blush", price: 24.99, image: "C:/Users/dilan/Desktop/final project/blush.webp" },
    { name: "Shimmer Highlighter", price: 29.99, image: "C:/Users/dilan/Desktop/final project/higuhitner shimmer.jpg" },
    { name: "Glam Mascara", price: 19.99, image: "C:/Users/dilan/Desktop/final project/mascara.webp" },
    { name: "Velvet Eyeliner", price: 17.99, image: "C:/Users/dilan/Desktop/final project/eyeliner.jpeg" },
    { name: "Luxury Compact", price: 34.99, image: "C:/Users/dilan/Desktop/final project/compact.jpeg" },
    { name: "Crystal Gloss", price: 21.99, image: "C:/Users/dilan/Desktop/final project/gloss.webp" },
    { name: "Elegant Shadow", price: 27.99, image: "C:/Users/dilan/Desktop/final project/shawow.jpg" },
    { name: "Night Palette", price: 49.99, image: "C:/Users/dilan/Desktop/final project/pallet.jpeg" }
  ],

  accessories: [
    { name: "Bracelet Listing", price: 45.00, image: "C:/Users/dilan/Desktop/final project/Bracelets_3_b26aaeb5-5f2e-453f-869d-dc6101a47385.jpg" },
    { name: "Diamond Necklace", price: 129.99, image: "C:/Users/dilan/Desktop/final project/2-in-1_Fancy_Diamond_Tennis_Necklace_2.webp" },
    { name: "Crystal Ring", price: 55.99, image: "C:/Users/dilan/Desktop/final project/crystal ring.jpg" },
    { name: "Silk Scarf", price: 35.99, image: "C:/Users/dilan/Desktop/final project/Navy-blue_930a171f-d16d-4005-8d56-13741a1dda9a_1200x.webp" },
    { name: "Luxury Watch", price: 249.99, image: "C:/Users/dilan/Desktop/final project/watch.jpeg" },
    { name: "Chic Handbag", price: 159.99, image: "C:/Users/dilan/Desktop/final project/handbag.webp" },
    { name: "Velvet Clutch", price: 99.99, image: "C:/Users/dilan/Desktop/final project/SH-CH-31-NavyBlueSequined_QuiltedVelvetClutch.webp" },
    { name: "Charm Anklet", price: 39.99, image: "C:/Users/dilan/Desktop/final project/anclet.jpeg" },
    { name: "Classic Shades", price: 79.99, image: "C:/Users/dilan/Desktop/final project/shades.jpeg" },
    { name: "Pearl Brooch", price: 29.99, image: "C:/Users/dilan/Desktop/final project/broach.jpeg" }
  ],

  footwear: [
    { name: "Monty Gold Sandals", price: 69.99, image: "C:/Users/dilan/Desktop/final project/the-monty-gold-women-s-dress-block-heel-sandals-tresmode-tresmode-1.jpg" },
    { name: "Crystal Pumps", price: 99.99, image: "C:/Users/dilan/Desktop/final project/mules.jpeg" },
    { name: "Velvet Flats", price: 49.99, image: "C:/Users/dilan/Desktop/final project/flats.webp" },
    { name: "Luxury Sneakers", price: 119.99, image: "C:/Users/dilan/Desktop/final project/PandoraSneakers1.webp" },
    { name: "Classic Boots", price: 139.99, image: "C:/Users/dilan/Desktop/final project/camille-edwardian-boots-black-black-OF.webp" },
    { name: "Evening Stilettos", price: 159.99, image: "C:/Users/dilan/Desktop/final project/crystal pums.jpeg" },
    { name: "Soft Slippers", price: 29.99, image: "C:/Users/dilan/Desktop/final project/slippers.jpg" },
    { name: "Royal Mules", price: 89.99, image: "C:/Users/dilan/Desktop/final project/stelliros.jpeg" },
    { name: "Pearl Slides", price: 79.99, image: "C:/Users/dilan/Desktop/final project/sliders.jpeg" },
    { name: "Strappy Heels", price: 99.99, image: "C:/Users/dilan/Desktop/final project/images.jpeg" }
  ]
};

// Search query
let searchQuery = "";

function renderProducts(){
  let foundAny = false;

  for(const category in products){
    const container = document.getElementById(`${category}-list`);
    container.innerHTML = "";

    const filtered = products[category].filter(item =>
      item.name.toLowerCase().includes(searchQuery)
    );

    if(filtered.length > 0) foundAny = true;

    filtered.forEach(item => {
      container.innerHTML += `
        <div class="product">
          <img src="${item.image}" alt="${item.name}">
          <h4>${item.name}</h4>
          <p>$${item.price.toFixed(2)}</p>
          <div class="price">$${item.price.toFixed(2)}</div>
          <button onclick="addToCart('${item.name}', ${item.price})">Add to Cart</button>
        </div>
      `;
    });

    document.getElementById(category).style.display = filtered.length ? "block" : "none";
  }

  // No results msg
  let existing = document.getElementById("noResults");
  if(!foundAny && searchQuery){
    if(!existing){
      const msg = document.createElement("div");
      msg.id = "noResults";
      msg.className = "no-results";
      msg.innerText = "No luxury items found.";
      document.querySelector("nav").insertAdjacentElement("afterend", msg);
    }
  } else {
    if(existing) existing.remove();
  }
}
renderProducts();

function filterProducts(){
  searchQuery = document.getElementById("searchInput").value.trim().toLowerCase();
  renderProducts();
}

/* ---------------- CART ---------------- */
let cart = [];
function addToCart(name, price){
  cart.push({name, price});
  updateCart();
}
function updateCart(){
  const c = document.getElementById('cart-items');
  if(cart.length === 0){ c.innerHTML = "No items yet."; }
  else {
    c.innerHTML = cart.map((x,i) =>
      `${x.name} - $${x.price.toFixed(2)}
       <button onclick="removeItem(${i})" style="color:red;border:none;background:none;cursor:pointer;">‚ùå</button>`
    ).join("<br>");
  }
  total.innerText = cart.reduce((a,b)=>a+b.price,0).toFixed(2);
}
function removeItem(i){ cart.splice(i,1); updateCart(); }

/* ---------------- PAYMENT ---------------- */
function showPayment(){
  if(cart.length === 0){
    alert("Your cart is empty. Add items before checkout.");
    return;
  }
  document.getElementById('payment-popup').style.display = 'flex';
  document.getElementById('paySuccess').style.display = 'none';
}
function closePayment(){
  document.getElementById('payment-popup').style.display = 'none';
}
function switchPay(type){
  document.getElementById('tabCard').classList.remove('active');
  document.getElementById('tabUpi').classList.remove('active');
  document.getElementById('cardPay').style.display = 'none';
  document.getElementById('upiPay').style.display = 'none';

  if(type === 'card'){
    document.getElementById('tabCard').classList.add('active');
    document.getElementById('cardPay').style.display = 'block';
  } else {
    document.getElementById('tabUpi').classList.add('active');
    document.getElementById('upiPay').style.display = 'block';
  }
}

function payNow(type){
  const totalAmt = cart.reduce((a,b)=>a+b.price,0).toFixed(2);

  if(type === "card"){
    const email = billEmail.value.trim();
    const nm = cardName.value.trim();
    const num = cardNumber.value.trim();
    const ex = cardExpiry.value.trim();
    const cvv = cardCvv.value.trim();
    if(!email || !nm || !num || !ex || !cvv){
      alert("Please fill all card payment fields.");
      return;
    }
  }

  if(type === "upi"){
    const email = billEmail2.value.trim();
    const upi = upiId.value.trim();
    if(!email || !upi){
      alert("Please fill all UPI payment fields.");
      return;
    }
  }

  document.getElementById('paySuccess').style.display = 'block';
  cart = [];
  updateCart();
  setTimeout(() => closePayment(), 2500);
  alert(`Payment successful! Amount paid: $${totalAmt}`);
}

/* Card formatting */
document.addEventListener("input", (e) => {
  if(e.target.id === "cardNumber"){
    let v = e.target.value.replace(/\D/g,'').slice(0,16);
    v = v.replace(/(\d{4})(?=\d)/g, '$1 ');
    e.target.value = v;
  }
  if(e.target.id === "cardExpiry"){
    let v = e.target.value.replace(/\D/g,'').slice(0,4);
    if(v.length >= 3) v = v.slice(0,2) + '/' + v.slice(2);
    e.target.value = v;
  }
});

/* ---------------- AI STYLIST CHAT ---------------- */
const aiChatBtn = document.getElementById("aiChatBtn");
const aiChatBox = document.getElementById("aiChatBox");
aiChatBtn.addEventListener("click", toggleChat);

function toggleChat(){
  aiChatBox.style.display = (aiChatBox.style.display === "flex") ? "none" : "flex";
}

function addMsg(text, who="bot"){
  const box = document.getElementById("aiMessages");
  const div = document.createElement("div");
  div.className = "aiMsg " + who;
  div.innerHTML = text;
  box.appendChild(div);
  box.scrollTop = box.scrollHeight;
}

function pickRandom(cat){
  const arr = products[cat];
  return arr[Math.floor(Math.random() * arr.length)];
}

function generateStylistResponse(userText){
  const msg = userText.toLowerCase();

  let mentionedProduct = null;
  for(const cat in products){
    for(const item of products[cat]){
      if(msg.includes(item.name.toLowerCase())){
        mentionedProduct = item;
        break;
      }
    }
    if(mentionedProduct) break;
  }

  if(mentionedProduct){
    const shoe = pickRandom("footwear");
    const acc = pickRandom("accessories");
    const perfume = pickRandom("perfumes");
    const makeup = pickRandom("makeup");

    return `
      ‚ú® Styling for <b>${mentionedProduct.name}</b>:
      <br><br>
      üë† Footwear: <b>${shoe.name}</b><br>
      üëú Accessory: <b>${acc.name}</b><br>
      üå∏ Perfume: <b>${perfume.name}</b><br>
      üíÑ Makeup: <b>${makeup.name}</b><br><br>
      üíú Luxury tip: keep 1 statement piece and everything else elegant & soft.
    `;
  }

  if(msg.includes("party") || msg.includes("date") || msg.includes("evening")){
    const outfit = pickRandom("clothes");
    const shoe = pickRandom("footwear");
    const acc = pickRandom("accessories");
    const perfume = pickRandom("perfumes");
    return `
      üåô <b>Party look suggestion:</b><br><br>
      üëó Outfit: <b>${outfit.name}</b><br>
      üë† Shoes: <b>${shoe.name}</b><br>
      üëú Add: <b>${acc.name}</b><br>
      üå∏ Finish: <b>${perfume.name}</b><br><br>
      ‚úÖ Luxury rule: Gold + Lavender combo always looks premium.
    `;
  }

  if(msg.includes("casual") || msg.includes("college") || msg.includes("day")){
    const outfit = products.clothes.find(x => x.name.toLowerCase().includes("tee")) || pickRandom("clothes");
    const shoe = products.footwear.find(x => x.name.toLowerCase().includes("sneaker")) || pickRandom("footwear");
    const acc = pickRandom("accessories");

    return `
      ‚òÄÔ∏è <b>Casual/day look:</b><br><br>
      üëï Top: <b>${outfit.name}</b><br>
      üëü Footwear: <b>${shoe.name}</b><br>
      ‚ú® Accessory: <b>${acc.name}</b><br><br>
      Tip: go soft makeup + fresh perfume for classy vibe.
    `;
  }

  return `
    üíú I can help you style outfits!<br><br>
    Try asking:<br>
    ‚úÖ ‚ÄúWhat goes with Satin Skirt?‚Äù<br>
    ‚úÖ ‚ÄúSuggest a party outfit‚Äù<br>
    ‚úÖ ‚ÄúBest accessories with blazer‚Äù
  `;
}

function sendAI(){
  const input = document.getElementById("aiUserInput");
  const text = input.value.trim();
  if(!text) return;

  addMsg(text, "user");
  input.value = "";

  setTimeout(() => {
    const reply = generateStylistResponse(text);
    addMsg(reply, "bot");
  }, 600);
}

document.addEventListener("keydown", (e) => {
  if(e.key === "Enter" && document.activeElement.id === "aiUserInput"){
    sendAI();
  }
});
</script>

</body>
</html>